# GPU æ€§èƒ½é—®é¢˜ä¿®å¤æ–¹æ¡ˆ

> è¯´æ˜ï¼šæœ¬ä¼˜åŒ–ä»…é’ˆå¯¹ Demo UIï¼Œä¸å½±å“æ ¸å¿ƒ Agent Frameworkã€‚

## é—®é¢˜æ€»ç»“

åœ¨ MacBook Air M4 ä¸Šï¼Œç½‘é¡µæ‰“å¼€æ—¶ GPU ä½¿ç”¨ç‡é£™å‡åˆ° 90%ï¼Œå…³é—­åé™åˆ° 10%ã€‚

### æ ¹æœ¬åŸå› 

1. **è¿‡åº¦ä½¿ç”¨ `backdrop-filter`** - åœ¨ 16 å¤„ä½¿ç”¨æ¯›ç»ç’ƒæ•ˆæœï¼Œä¸¥é‡æ¶ˆè€— GPU
2. **5 ä¸ªæ— é™å¾ªç¯åŠ¨ç”»** - æŒç»­è§¦å‘ GPU é‡ç»˜
3. **å¤æ‚çš„å¤šå±‚æ¸å˜å’Œé˜´å½±** - æ¯å¸§éƒ½éœ€è¦ GPU è®¡ç®—
4. **å¤§é‡çš„ transform/transition** - åˆ›å»ºè¿‡å¤šåˆæˆå±‚

---

## ä¼˜åŒ–ç­–ç•¥

### 1. å‡å°‘/ä¼˜åŒ– `backdrop-filter` ä½¿ç”¨

**å½±å“æœ€å¤§çš„ä½ç½®ï¼š**
- `sidebar.css`: `blur(32px)` â†’ å‡å°‘åˆ° `blur(12px)` æˆ–ç§»é™¤
- `composer.css`: `blur(26px)` â†’ å‡å°‘åˆ° `blur(10px)` æˆ–ç§»é™¤
- `top-bar.css`: `blur(18px)` â†’ å‡å°‘åˆ° `blur(8px)` æˆ–ç§»é™¤

**å»ºè®®ï¼š**
- ä¿ç•™æœ€å…³é”®çš„æ¯›ç»ç’ƒæ•ˆæœï¼ˆå¦‚å¼¹å‡ºèœå•ï¼‰
- å…¶ä»–åœ°æ–¹ç”¨åŠé€æ˜èƒŒæ™¯æ›¿ä»£
- æ¨¡ç³ŠåŠå¾„æ§åˆ¶åœ¨ 10px ä»¥å†…

### 2. ä¼˜åŒ–/ç¦ç”¨æ— é™å¾ªç¯åŠ¨ç”»

**éœ€è¦å¤„ç†çš„åŠ¨ç”»ï¼š**
1. `base.css` line 59: `drift` 70s åŠ¨ç”»ï¼ˆé¡µé¢èƒŒæ™¯ç½‘æ ¼ï¼‰
2. `composer.css` line 146: `sendPulse` 1.8s åŠ¨ç”»
3. `sidebar.css` line 120: `pulse-glow` 3s åŠ¨ç”»
4. `top-bar.css` line 241: `pulse-dot` 2s åŠ¨ç”»
5. `debug.css` line 354: `pulse-blue` 2s åŠ¨ç”»

**å»ºè®®ï¼š**
- å®Œå…¨ç§»é™¤èƒŒæ™¯ drift åŠ¨ç”»ï¼ˆç”¨æˆ·æ„ŸçŸ¥ä¸æ˜æ˜¾ï¼‰
- å°†å…¶ä»–è„‰å†²åŠ¨ç”»æ”¹ä¸º hover è§¦å‘ï¼Œè€ŒéæŒç»­è¿è¡Œ
- æˆ–è€…å¢åŠ  `animation-play-state: paused` é»˜è®¤çŠ¶æ€

### 3. ç®€åŒ–æ¸å˜å’Œé˜´å½±

**ä¼˜åŒ–æ–¹å‘ï¼š**
- å‡å°‘æ¸å˜å±‚æ•°ï¼ˆç›®å‰æœ‰å¤šä¸ª 4 å±‚æ¸å˜ï¼‰
- ç®€åŒ– box-shadowï¼ˆé¿å…å¤šé‡é˜´å½±ï¼‰
- ç§»é™¤ä¸å¿…è¦çš„ `saturate()` æ»¤é•œ

### 4. ä¼˜åŒ– CSS æ€§èƒ½å±æ€§

**æ·»åŠ æ€§èƒ½æç¤ºï¼š**
```css
/* å…³é”®å…ƒç´ æ·»åŠ  */
.sidebar, .debug-drawer, .composer-box, .top-bar {
    contain: layout style paint;
    will-change: auto; /* é¿å…è¿‡åº¦ä½¿ç”¨ will-change */
}
```

---

## å®æ–½ä¼˜å…ˆçº§

### ğŸš¨ **é«˜ä¼˜å…ˆçº§ï¼ˆç«‹å³ä¿®å¤ï¼‰**

1. âœ… å‡å°‘æ‰€æœ‰ `backdrop-filter` çš„æ¨¡ç³ŠåŠå¾„åˆ° â‰¤10px
2. âœ… ç§»é™¤ `base.css` çš„ drift èƒŒæ™¯åŠ¨ç”»
3. âœ… å°†æ‰€æœ‰æ— é™å¾ªç¯åŠ¨ç”»æ”¹ä¸ºä»…åœ¨ hover æ—¶è§¦å‘

### âš ï¸ **ä¸­ä¼˜å…ˆçº§**

4. ç®€åŒ–å¤šå±‚æ¸å˜ï¼Œæ¯ä¸ªå…ƒç´ æœ€å¤š 2 å±‚
5. å‡å°‘ box-shadow ä½¿ç”¨ï¼Œåˆå¹¶å¤šé‡é˜´å½±

### ğŸ’¡ **ä½ä¼˜å…ˆçº§ï¼ˆæ¸è¿›ä¼˜åŒ–ï¼‰**

6. æ·»åŠ  CSS containment
7. ä¼˜åŒ–åŠ¨ç”»ä½¿ç”¨ `transform` å’Œ `opacity` è€Œéå…¶ä»–å±æ€§
8. è€ƒè™‘æ·»åŠ æ€§èƒ½åå¥½è®¾ç½®ï¼ˆè®©ç”¨æˆ·é€‰æ‹©é«˜æ€§èƒ½/é«˜è§†è§‰æ¨¡å¼ï¼‰

---

## é¢„æœŸæ•ˆæœ

å®æ–½é«˜ä¼˜å…ˆçº§ä¿®å¤åï¼ŒGPU ä½¿ç”¨ç‡åº”è¯¥ä» **90% é™åˆ° 20-30%**ã€‚

å®Œæˆæ‰€æœ‰ä¼˜åŒ–åï¼Œåº”è¯¥èƒ½é™åˆ° **10-15%** æˆ–æ›´ä½ã€‚

---

## ç›¸å…³æ–‡ä»¶

éœ€è¦ä¿®æ”¹çš„ CSS æ–‡ä»¶ï¼š
- `demo/styles/base.css`
- `demo/styles/sidebar.css`
- `demo/styles/composer.css`
- `demo/styles/top-bar.css`
- `demo/styles/debug.css`
- `demo/styles/chat.css`
- `demo/styles/memory.css`
